// ------   Container Module   -------------- /
// ------------------------------------------ /


@mixin PSJContainer($config: ()) {

	// ------   Default Configuration   ----- /

	$config: map-merge((
		breakpointMap: $PSJ_breakpointMap,
		padding: 0,
		centered: true
	), $config);

	$id: unique-id();


	// ------   Registration   -------------- /

	$registration: psj-register-module(container, #{&}, $config);


	// ------   Generated CSS   ------------- /

	@at-root {

		// Placeholder
		%#{$id}-container {

			// Default container (for mobile devices & other tiny screens)
			width: map-deep-get($config, breakpointMap, default, containerWidth);
			padding: map-get($config, padding);

			@if map-get($config, centered) == true {
				margin: 0 auto;
			}

			// User-generated styling
			@content;

			// Container for other screen sizes
			@each $breakpoint, $propMap in map-get($config, breakpointMap) {

				@if $breakpoint != default {

					@media (min-width: map-get($propMap, viewportWidth)) {
						width: map-get($propMap, containerWidth);
					}
				}
			}
		}

		// Rendered
		& {
			@extend %#{$id}-container;
		}
	}
}
